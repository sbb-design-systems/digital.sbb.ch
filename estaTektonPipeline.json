{
  "$schema": "https://clew-resources.sbb-cloud.net/tekton-schema.json",
  "productName": "digital-sbb-ch",
  "npm": {
    "additionalNpmScripts": "build"
  },
  "docker": {
    "dockerFile": "Dockerfile",
    "artifactoryDockerRepo": "esta.docker",
    "imageName": "digital-sbb-ch-eleventy"
  },
  "pipelines": [
    {
      "name": "continous",
      "triggerType": ["GITEVENT", "USER"],
      "branchNamePrefixes": ["master"],
      "build": {
        "buildDockerImage": true,
        "deployDockerImage": true,
        "additionalDockerImageTags": "latest",
        "sonarScan": {
          "enabled": true
        }
      }
    },
    {
      "name": "release",
      "triggerType": ["GITEVENT"],
      "versionTagEventPatterns": ["^.+$"],
      "build": {
        "buildDockerImage": true,
        "sonarScan": {
          "enabled": true
        }
      }
    }
  ],
  "notifications": [
    {
      "type": "EMAIL",
      "enabled": true,
      "recipients": ["$actor"]
    }
  ]
}
